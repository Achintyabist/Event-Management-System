{% extends "base.html" %}
{% block title %}Session: {{ schedule.Session_Name }}{% endblock %}

{% block content %}
<div class="session-nav-buttons" style="margin-bottom: 25px; display: flex; gap: 10px;">
    <a class="btn-ghost" href="{{ url_for('attendee_event', event_id=schedule.Event_Id) }}">&larr; Sessions</a>
    <a class="btn-ghost" href="{{ url_for('attendee_dashboard') }}">Dashboard</a>
</div>

<h2>{{ schedule.Session_Name }}</h2>

<div class="session-detail-grid">
    <div class="detail-card"><strong>Event:</strong> {{ schedule.Event_Name }}</div>
    <div class="detail-card"><strong>Date:</strong> {{ schedule.Session_Date }}</div>
    <div class="detail-card"><strong>Time:</strong> {{ schedule.Start_Time }} - {{ schedule.End_Time }}</div>
    <div class="detail-card"><strong>Venue:</strong> {{ schedule.Venue_Name }}</div>
    <div class="detail-card"><strong>Capacity:</strong> {{ schedule.Capacity }}</div>
    <div class="detail-card"><strong>Seats Left:</strong> {{ schedule.seats_left }}</div>
</div>

<div class="registration-area">
    {% if schedule.registered %}
        <form method="post" action="{{ url_for('attendee_leave', schedule_id=schedule.Schedule_Id) }}">
            <button class="btn-ghost large-btn" type="submit">Leave Session</button>
        </form>
    {% else %}
        <form method="post" action="{{ url_for('attendee_register', schedule_id=schedule.Schedule_Id) }}">
            <button class="btn large-btn" type="submit" {% if schedule.seats_left <= 0 %}disabled{% endif %}>
                {% if schedule.seats_left <= 0 %}Full{% else %}Register Now{% endif %}
            </button>
        </form>
    {% endif %}
</div>
<style>
    .session-detail-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 15px;
        margin-top: 25px;
        margin-bottom: 25px;
    }
    .detail-card {
        background: rgba(255, 255, 255, 0.1);
        padding: 15px;
        border-radius: 8px;
        font-size: 1.1em;
    }
    .detail-card strong {
        color: #a3f7d3;
        display: block;
        font-size: 0.85em;
        margin-bottom: 3px;
    }
    .registration-area {
        margin-top: 30px;
        text-align: center;
    }
    .large-btn {
        padding: 15px 30px;
        font-size: 1.2em;
        min-width: 250px;
    }
</style>
{% endblock %}